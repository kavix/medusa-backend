<!DOCTYPE html>
<html>

<head>
    <title>Login Test</title>
    <style>
        .error {
            color: red;
            background: #ffe6e6;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid red;
        }

        .success {
            color: green;
            background: #e6ffe6;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid green;
        }
    </style>
</head>

<body>
    <h2>Login Test</h2>
    <form id="loginForm">
        <input type="text" id="username" placeholder="Username" required><br><br>
        <input type="password" id="password" placeholder="Password" required><br><br>
        <button type="submit">LOGIN</button>
    </form>
    <div id="message"></div>

    <script>
        document.getElementById('loginForm').onsubmit = async (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const messageDiv = document.getElementById('message');

            // Clear previous messages
            messageDiv.innerHTML = '';

            // Simulate API call
            console.log('Testing with:', username, password);

            // Mock response for testing
            let mockResponse = {
                ok: false,
                json: () => Promise.resolve({
                    success: false,
                    message: "Invalid credentials."
                })
            };

            if (username.includes("' OR '") || username.includes("1=1")) {
                mockResponse = {
                    ok: true,
                    json: () => Promise.resolve({
                        success: true,
                        message: "Login successful! Check the response headers ASAP for more rewards."
                    })
                };
            }

            try {
                const data = await mockResponse.json();

                if (mockResponse.ok && data.success) {
                    messageDiv.innerHTML = `<div class="success">${data.message || 'Login successful!'}</div>`;
                    console.log('Success! Would redirect in 3 seconds...');
                } else {
                    messageDiv.innerHTML = `<div class="error">${data.message || 'Login failed'}</div>`;
                    console.log('Failed login shown');
                }
            } catch (error) {
                messageDiv.innerHTML = `<div class="error">Network error: ${error.message}</div>`;
            }
        };
    </script>
</body>

</html>